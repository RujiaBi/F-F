q975_eu_long <- quantile(cv_eu_long, .975)
i25_eu_long <- quantile(cv_eu_long, .25)
i75_eu_long <- quantile(cv_eu_long, .75)
dd_eu_long <- with(d_eu_long, data.frame(x,y))
dd_eu_long$median <- median_eu_long
dd_eu_long$q25 <- q25_eu_long
dd_eu_long$q975 <- q975_eu_long
dd_eu_long$i25 <- i25_eu_long
dd_eu_long$i75 <- i75_eu_long
dd_eu_long$Region <- "Europe (EU) CV_long (21 stocks)"
dd_eu_long$Group <- "Europe (EU)"
# Europe (non-EU)
cv_neu_short <- mcmc[,which(colnames(mcmc)=='cv[6,1]')]
d_neu_short <- density(cv_neu_short, adjust=2)
median_neu_short <- median(cv_neu_short)
q25_neu_short <- quantile(cv_neu_short, .025)
q975_neu_short <- quantile(cv_neu_short, .975)
i25_neu_short <- quantile(cv_neu_short, .25)
i75_neu_short <- quantile(cv_neu_short, .75)
dd_neu_short <- with(d_neu_short, data.frame(x,y))
dd_neu_short$median <- median_neu_short
dd_neu_short$q25 <- q25_neu_short
dd_neu_short$q975 <- q975_neu_short
dd_neu_short$i25 <- i25_neu_short
dd_neu_short$i75 <- i75_neu_short
dd_neu_short$Region <- "Europe (non-EU) CV_short (13 stocks)"
dd_neu_short$Group <- "Europe (non-EU)"
cv_neu_long <- mcmc[,which(colnames(mcmc)=='cv[6,2]')]
d_neu_long <- density(cv_neu_long, adjust=2)
median_neu_long <- median(cv_neu_long)
q25_neu_long <- quantile(cv_neu_long, .025)
q975_neu_long <- quantile(cv_neu_long, .975)
i25_neu_long <- quantile(cv_neu_long, .25)
i75_neu_long <- quantile(cv_neu_long, .75)
dd_neu_long <- with(d_neu_long, data.frame(x,y))
dd_neu_long$median <- median_neu_long
dd_neu_long$q25 <- q25_neu_long
dd_neu_long$q975 <- q975_neu_long
dd_neu_long$i25 <- i25_neu_long
dd_neu_long$i75 <- i75_neu_long
dd_neu_long$Region <- "Europe (non-EU) CV_long (8 stocks)"
dd_neu_long$Group <- "Europe (non-EU)"
# Indian Ocean
cv_io_short <- mcmc[,which(colnames(mcmc)=='cv[7,1]')]
d_io_short <- density(cv_io_short, adjust=2)
median_io_short <- median(cv_io_short)
q25_io_short <- quantile(cv_io_short, .025)
q975_io_short <- quantile(cv_io_short, .975)
i25_io_short <- quantile(cv_io_short, .25)
i75_io_short <- quantile(cv_io_short, .75)
dd_io_short <- with(d_io_short, data.frame(x,y))
dd_io_short$median <- median_io_short
dd_io_short$q25 <- q25_io_short
dd_io_short$q975 <- q975_io_short
dd_io_short$i25 <- i25_io_short
dd_io_short$i75 <- i75_io_short
dd_io_short$Region <- "Indian Ocean CV_short (1 stock)"
dd_io_short$Group <- "Indian Ocean"
# Japan
cv_jan_short <- mcmc[,which(colnames(mcmc)=='cv[8,1]')]
d_jan_short <- density(cv_jan_short, adjust=2)
median_jan_short <- median(cv_jan_short)
q25_jan_short <- quantile(cv_jan_short, .025)
q975_jan_short <- quantile(cv_jan_short, .975)
i25_jan_short <- quantile(cv_jan_short, .25)
i75_jan_short <- quantile(cv_jan_short, .75)
dd_jan_short <- with(d_jan_short, data.frame(x,y))
dd_jan_short$median <- median_jan_short
dd_jan_short$q25 <- q25_jan_short
dd_jan_short$q975 <- q975_jan_short
dd_jan_short$i25 <- i25_jan_short
dd_jan_short$i75 <- i75_jan_short
dd_jan_short$Region <- "Japan CV_short (13 stocks)"
dd_jan_short$Group <- "Japan"
# New Zealand
cv_nz_short <- mcmc[,which(colnames(mcmc)=='cv[9,1]')]
d_nz_short <- density(cv_nz_short, adjust=2)
median_nz_short <- median(cv_nz_short)
q25_nz_short <- quantile(cv_nz_short, .025)
q975_nz_short <- quantile(cv_nz_short, .975)
i25_nz_short <- quantile(cv_nz_short, .25)
i75_nz_short <- quantile(cv_nz_short, .75)
dd_nz_short <- with(d_nz_short, data.frame(x,y))
dd_nz_short$median <- median_nz_short
dd_nz_short$q25 <- q25_nz_short
dd_nz_short$q975 <- q975_nz_short
dd_nz_short$i25 <- i25_nz_short
dd_nz_short$i75 <- i75_nz_short
dd_nz_short$Region <- "New Zealand CV_short (1 stocks)"
dd_nz_short$Group <- "New Zealand"
cv_nz_long <- mcmc[,which(colnames(mcmc)=='cv[9,2]')]
d_nz_long <- density(cv_nz_long, adjust=2)
median_nz_long <- median(cv_nz_long)
q25_nz_long <- quantile(cv_nz_long, .025)
q975_nz_long <- quantile(cv_nz_long, .975)
i25_nz_long <- quantile(cv_nz_long, .25)
i75_nz_long <- quantile(cv_nz_long, .75)
dd_nz_long <- with(d_nz_long, data.frame(x,y))
dd_nz_long$median <- median_nz_long
dd_nz_long$q25 <- q25_nz_long
dd_nz_long$q975 <- q975_nz_long
dd_nz_long$i25 <- i25_nz_long
dd_nz_long$i75 <- i75_nz_long
dd_nz_long$Region <- "New Zealand CV_long (8 stocks)"
dd_nz_long$Group <- "New Zealand"
# Pacific Ocean
cv_po_short <- mcmc[,which(colnames(mcmc)=='cv[10,1]')]
d_po_short <- density(cv_po_short, adjust=2)
median_po_short <- median(cv_po_short)
q25_po_short <- quantile(cv_po_short, .025)
q975_po_short <- quantile(cv_po_short, .975)
i25_po_short <- quantile(cv_po_short, .25)
i75_po_short <- quantile(cv_po_short, .75)
dd_po_short <- with(d_po_short, data.frame(x,y))
dd_po_short$median <- median_po_short
dd_po_short$q25 <- q25_po_short
dd_po_short$q975 <- q975_po_short
dd_po_short$i25 <- i25_po_short
dd_po_short$i75 <- i75_po_short
dd_po_short$Region <- "Pacific Ocean CV_short (3 stocks)"
dd_po_short$Group <- "Pacific Ocean"
cv_po_long <- mcmc[,which(colnames(mcmc)=='cv[10,2]')]
d_po_long <- density(cv_po_long, adjust=2)
median_po_long <- median(cv_po_long)
q25_po_long <- quantile(cv_po_long, .025)
q975_po_long <- quantile(cv_po_long, .975)
i25_po_long <- quantile(cv_po_long, .25)
i75_po_long <- quantile(cv_po_long, .75)
dd_po_long <- with(d_po_long, data.frame(x,y))
dd_po_long$median <- median_po_long
dd_po_long$q25 <- q25_po_long
dd_po_long$q975 <- q975_po_long
dd_po_long$i25 <- i25_po_long
dd_po_long$i75 <- i75_po_long
dd_po_long$Region <- "Pacific Ocean CV_long (1 stocks)"
dd_po_long$Group <- "Pacific Ocean"
# South Africa
cv_sa_short <- mcmc[,which(colnames(mcmc)=='cv[11,1]')]
d_sa_short <- density(cv_sa_short, adjust=2)
median_sa_short <- median(cv_sa_short)
q25_sa_short <- quantile(cv_sa_short, .025)
q975_sa_short <- quantile(cv_sa_short, .975)
i25_sa_short <- quantile(cv_sa_short, .25)
i75_sa_short <- quantile(cv_sa_short, .75)
dd_sa_short <- with(d_sa_short, data.frame(x,y))
dd_sa_short$median <- median_sa_short
dd_sa_short$q25 <- q25_sa_short
dd_sa_short$q975 <- q975_sa_short
dd_sa_short$i25 <- i25_sa_short
dd_sa_short$i75 <- i75_sa_short
dd_sa_short$Region <- "South Africa CV_short (12 stocks)"
dd_sa_short$Group <- "South Africa"
# South America
cv_sam_short <- mcmc[,which(colnames(mcmc)=='cv[12,1]')]
d_sam_short <- density(cv_sam_short, adjust=2)
median_sam_short <- median(cv_sam_short)
q25_sam_short <- quantile(cv_sam_short, .025)
q975_sam_short <- quantile(cv_sam_short, .975)
i25_sam_short <- quantile(cv_sam_short, .25)
i75_sam_short <- quantile(cv_sam_short, .75)
dd_sam_short <- with(d_sam_short, data.frame(x,y))
dd_sam_short$median <- median_sam_short
dd_sam_short$q25 <- q25_sam_short
dd_sam_short$q975 <- q975_sam_short
dd_sam_short$i25 <- i25_sam_short
dd_sam_short$i75 <- i75_sam_short
dd_sam_short$Region <- "South America CV_short (9 stocks)"
dd_sam_short$Group <- "South America"
cv_sam_long <- mcmc[,which(colnames(mcmc)=='cv[12,2]')]
d_sam_long <- density(cv_sam_long, adjust=2)
median_sam_long <- median(cv_sam_long)
q25_sam_long <- quantile(cv_sam_long, .025)
q975_sam_long <- quantile(cv_sam_long, .975)
i25_sam_long <- quantile(cv_sam_long, .25)
i75_sam_long <- quantile(cv_sam_long, .75)
dd_sam_long <- with(d_sam_long, data.frame(x,y))
dd_sam_long$median <- median_sam_long
dd_sam_long$q25 <- q25_sam_long
dd_sam_long$q975 <- q975_sam_long
dd_sam_long$i25 <- i25_sam_long
dd_sam_long$i75 <- i75_sam_long
dd_sam_long$Region <- "South America CV_long (5 stocks)"
dd_sam_long$Group <- "South America"
# US Alaska
cv_usal_short <- mcmc[,which(colnames(mcmc)=='cv[13,1]')]
d_usal_short <- density(cv_usal_short, adjust=2)
median_usal_short <- median(cv_usal_short)
q25_usal_short <- quantile(cv_usal_short, .025)
q975_usal_short <- quantile(cv_usal_short, .975)
i25_usal_short <- quantile(cv_usal_short, .25)
i75_usal_short <- quantile(cv_usal_short, .75)
dd_usal_short <- with(d_usal_short, data.frame(x,y))
dd_usal_short$median <- median_usal_short
dd_usal_short$q25 <- q25_usal_short
dd_usal_short$q975 <- q975_usal_short
dd_usal_short$i25 <- i25_usal_short
dd_usal_short$i75 <- i75_usal_short
dd_usal_short$Region <- "US Alaska CV_short (19 stocks)"
dd_usal_short$Group <- "US Alaska"
cv_usal_long <- mcmc[,which(colnames(mcmc)=='cv[13,2]')]
d_usal_long <- density(cv_usal_long, adjust=2)
median_usal_long <- median(cv_usal_long)
q25_usal_long <- quantile(cv_usal_long, .025)
q975_usal_long <- quantile(cv_usal_long, .975)
i25_usal_long <- quantile(cv_usal_long, .25)
i75_usal_long <- quantile(cv_usal_long, .75)
dd_usal_long <- with(d_usal_long, data.frame(x,y))
dd_usal_long$median <- median_usal_long
dd_usal_long$q25 <- q25_usal_long
dd_usal_long$q975 <- q975_usal_long
dd_usal_long$i25 <- i25_usal_long
dd_usal_long$i75 <- i75_usal_long
dd_usal_long$Region <- "US Alaska CV_long (1 stocks)"
dd_usal_long$Group <- "US Alaska"
# US East Coast
cv_usec_short <- mcmc[,which(colnames(mcmc)=='cv[14,1]')]
d_usec_short <- density(cv_usec_short, adjust=2)
median_usec_short <- median(cv_usec_short)
q25_usec_short <- quantile(cv_usec_short, .025)
q975_usec_short <- quantile(cv_usec_short, .975)
i25_usec_short <- quantile(cv_usec_short, .25)
i75_usec_short <- quantile(cv_usec_short, .75)
dd_usec_short <- with(d_usec_short, data.frame(x,y))
dd_usec_short$median <- median_usec_short
dd_usec_short$q25 <- q25_usec_short
dd_usec_short$q975 <- q975_usec_short
dd_usec_short$i25 <- i25_usec_short
dd_usec_short$i75 <- i75_usec_short
dd_usec_short$Region <- "US East Coast CV_short (5 stocks)"
dd_usec_short$Group <- "US East Coast"
cv_usec_long <- mcmc[,which(colnames(mcmc)=='cv[14,2]')]
d_usec_long <- density(cv_usec_long, adjust=2)
median_usec_long <- median(cv_usec_long)
q25_usec_long <- quantile(cv_usec_long, .025)
q975_usec_long <- quantile(cv_usec_long, .975)
i25_usec_long <- quantile(cv_usec_long, .25)
i75_usec_long <- quantile(cv_usec_long, .75)
dd_usec_long <- with(d_usec_long, data.frame(x,y))
dd_usec_long$median <- median_usec_long
dd_usec_long$q25 <- q25_usec_long
dd_usec_long$q975 <- q975_usec_long
dd_usec_long$i25 <- i25_usec_long
dd_usec_long$i75 <- i75_usec_long
dd_usec_long$Region <- "US East Coast CV_long (3 stocks)"
dd_usec_long$Group <- "US East Coast"
# US Southeast and Gulf
cv_ussg_short <- mcmc[,which(colnames(mcmc)=='cv[15,1]')]
d_ussg_short <- density(cv_ussg_short, adjust=2)
median_ussg_short <- median(cv_ussg_short)
q25_ussg_short <- quantile(cv_ussg_short, .025)
q975_ussg_short <- quantile(cv_ussg_short, .975)
i25_ussg_short <- quantile(cv_ussg_short, .25)
i75_ussg_short <- quantile(cv_ussg_short, .75)
dd_ussg_short <- with(d_ussg_short, data.frame(x,y))
dd_ussg_short$median <- median_ussg_short
dd_ussg_short$q25 <- q25_ussg_short
dd_ussg_short$q975 <- q975_ussg_short
dd_ussg_short$i25 <- i25_ussg_short
dd_ussg_short$i75 <- i75_ussg_short
dd_ussg_short$Region <- "US Southeast and Gulf CV_short (3 stocks)"
dd_ussg_short$Group <- "US Southeast and Gulf"
cv_ussg_long <- mcmc[,which(colnames(mcmc)=='cv[15,2]')]
d_ussg_long <- density(cv_ussg_long, adjust=2)
median_ussg_long <- median(cv_ussg_long)
q25_ussg_long <- quantile(cv_ussg_long, .025)
q975_ussg_long <- quantile(cv_ussg_long, .975)
i25_ussg_long <- quantile(cv_ussg_long, .25)
i75_ussg_long <- quantile(cv_ussg_long, .75)
dd_ussg_long <- with(d_ussg_long, data.frame(x,y))
dd_ussg_long$median <- median_ussg_long
dd_ussg_long$q25 <- q25_ussg_long
dd_ussg_long$q975 <- q975_ussg_long
dd_ussg_long$i25 <- i25_ussg_long
dd_ussg_long$i75 <- i75_ussg_long
dd_ussg_long$Region <- "US Southeast and Gulf CV_long (2 stocks)"
dd_ussg_long$Group <- "US Southeast and Gulf"
# US West Coast
cv_uswc_short <- mcmc[,which(colnames(mcmc)=='cv[16,1]')]
d_uswc_short <- density(cv_uswc_short, adjust=2)
median_uswc_short <- median(cv_uswc_short)
q25_uswc_short <- quantile(cv_uswc_short, .025)
q975_uswc_short <- quantile(cv_uswc_short, .975)
i25_uswc_short <- quantile(cv_uswc_short, .25)
i75_uswc_short <- quantile(cv_uswc_short, .75)
dd_uswc_short <- with(d_uswc_short, data.frame(x,y))
dd_uswc_short$median <- median_uswc_short
dd_uswc_short$q25 <- q25_uswc_short
dd_uswc_short$q975 <- q975_uswc_short
dd_uswc_short$i25 <- i25_uswc_short
dd_uswc_short$i75 <- i75_uswc_short
dd_uswc_short$Region <- "US West Coast CV_short (8 stocks)"
dd_uswc_short$Group <- "US West Coast"
cv_uswc_long <- mcmc[,which(colnames(mcmc)=='cv[16,2]')]
d_uswc_long <- density(cv_uswc_long, adjust=2)
median_uswc_long <- median(cv_uswc_long)
q25_uswc_long <- quantile(cv_uswc_long, .025)
q975_uswc_long <- quantile(cv_uswc_long, .975)
i25_uswc_long <- quantile(cv_uswc_long, .25)
i75_uswc_long <- quantile(cv_uswc_long, .75)
dd_uswc_long <- with(d_uswc_long, data.frame(x,y))
dd_uswc_long$median <- median_uswc_long
dd_uswc_long$q25 <- q25_uswc_long
dd_uswc_long$q975 <- q975_uswc_long
dd_uswc_long$i25 <- i25_uswc_long
dd_uswc_long$i75 <- i75_uswc_long
dd_uswc_long$Region <- "US West Coast CV_long (7 stocks)"
dd_uswc_long$Group <- "US West Coast"
dd <- rbind(dd_ao_short, dd_aus_short, dd_aus_long, dd_cec_short, dd_cec_long,
dd_cwc_long, dd_eu_short, dd_eu_long, dd_neu_short, dd_neu_long,
dd_io_short, dd_jan_short, dd_nz_short, dd_nz_long, dd_po_short,
dd_po_long, dd_sa_short, dd_sam_short, dd_sam_long, dd_usal_short,
dd_usal_long, dd_usec_short, dd_usec_long, dd_ussg_short, dd_ussg_long,
dd_uswc_short, dd_uswc_long)
dd$Region <- as.factor(dd$Region)
cbPalette1 <- c(0:15)
cbPalette2 <- c("#999999", "#E69F00", "#56B4E9", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7",
"#999999", "#E69F00", "#56B4E9", "#009E73", "#F0E442", "#0072B2", "#D55E00", "#CC79A7")
p <- ggplot(data=dd) +
geom_point(aes(x=median*100, y=Region, colour=Group, shape=Group),size=5) +
geom_errorbarh(aes(xmax=i75*100, xmin=i25*100, y=Region, colour=Group, height=0.2), size=1.2) +
geom_errorbarh(aes(xmax=q975*100, xmin=q25*100, y=Region, colour=Group, height=0), linetype=3, size=1.2) +
scale_shape_manual(values=cbPalette1) +
scale_colour_manual(values=cbPalette2) +
# xlim(0,1)+
# scale_x_continuous(breaks=c(0,0.5,1), labels=c("0","0.5","1")) +
theme_bw() +
theme(panel.border = element_rect(colour = "black", fill=NA, size=1),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
axis.line = element_line(colour = "black"),
axis.text.y   = element_text(size=18),
axis.text.x   = element_text(size=18),
axis.title.y  = element_blank(),
axis.title.x  = element_blank(),
legend.position = "none",
strip.text.x = element_text(size=20),
plot.margin = unit(c(0.5,2,0.5,0.5), "lines"),
panel.spacing = unit(1, "lines"))
pp <- annotate_figure(p,
bottom = text_grob("CV (%)", hjust = 1, x = 0.69, size = 22),
left = text_grob("Region", rot = 90, size = 22))
jpeg("Region_Period_CV.jpeg", height = 12, width = 10, units='in', res=600)
pp
dev.off()
traceplot(mcmc[,1:20])
# Clear workspace
rm(list = ls())
# Turn off scientific notation
options(scipen=999)
# Packages
source('util.R')
#####################################################################################################
# Define directories
dat <- read.csv("new_data_council_model.csv", as.is=T)
dd <- dat[,c(2,27,7,8,10:25)]
dd[!is.na(dd$F_recent) & dd$F_recent==0,]$F_recent <- NA
dd[!is.na(dd$F_old) & dd$F_old==0,]$F_old <- NA
dd[!is.na(dd$F_by_Fmsy_recent) & dd$F_by_Fmsy_recent==0,]$F_by_Fmsy_recent <- NA
dd[!is.na(dd$F_by_Fmsy_old) & dd$F_by_Fmsy_old==0,]$F_by_Fmsy_old <- NA
data_2ass <- dd[dd$num_assess==2,]
data_3ass <- dd[dd$num_assess==3,]
data_4ass <- dd[dd$num_assess==4,]
data_5ass <- dd[dd$num_assess==5,]
data_6ass <- dd[dd$num_assess==6,]
data_7ass <- dd[dd$num_assess==7,]
data_8ass <- dd[dd$num_assess==8,]
## Stock number
stocknum_2ass <- length(unique(data_2ass$stockid_code))
stocknum_3ass <- length(unique(data_3ass$stockid_code))
stocknum_4ass <- length(unique(data_4ass$stockid_code))
stocknum_5ass <- length(unique(data_5ass$stockid_code))
stocknum_6ass <- length(unique(data_6ass$stockid_code))
stocknum_7ass <- length(unique(data_7ass$stockid_code))
stocknum_8ass <- length(unique(data_8ass$stockid_code))
#################################################################################################################
data = list(data_2ass = as.matrix(data_2ass),
data_3ass = as.matrix(data_3ass),
data_4ass = as.matrix(data_4ass),
data_5ass = as.matrix(data_5ass),
data_6ass = as.matrix(data_6ass),
data_7ass = as.matrix(data_7ass),
data_8ass = as.matrix(data_8ass),
# Stock number
stocknum_2ass = as.numeric(stocknum_2ass),
stocknum_3ass = as.numeric(stocknum_3ass),
stocknum_4ass = as.numeric(stocknum_4ass),
stocknum_5ass = as.numeric(stocknum_5ass),
stocknum_6ass = as.numeric(stocknum_6ass),
stocknum_7ass = as.numeric(stocknum_7ass),
stocknum_8ass = as.numeric(stocknum_8ass),
# Stock_compare_num
stock_compare_num_3ass = as.numeric(dim(data_3ass)[1]),
stock_compare_num_4ass = as.numeric(dim(data_4ass)[1]),
stock_compare_num_5ass = as.numeric(dim(data_5ass)[1]),
stock_compare_num_6ass = as.numeric(dim(data_6ass)[1]),
stock_compare_num_7ass = as.numeric(dim(data_7ass)[1]),
stock_compare_num_8ass = as.numeric(dim(data_8ass)[1]),
# number of stocks
rs = 20)
# Parameters monitored
params = c("cv_global", "cv_region", "cv", "nu_r", "nu_tp", "mu_2ass", "mu_3ass" ,"mu_4ass", "mu_5ass", "mu_6ass", "mu_7ass", "mu_8ass")
load('3_Fmsy_Region_Period_fit.RData')
load('3_Fmsy_Region_Period_fit0.RData')
load('3_Fmsy_Region_Period_dic.RData')
setwd("~/Desktop/Climate_Stock/Bi_Code/B_F_OFL_dist/Models/Fmsy/3_Fmsy_Region_Period_CV")
load('3_Fmsy_Region_Period_fit.RData')
load('3_Fmsy_Region_Period_fit0.RData')
load('3_Fmsy_Region_Period_CV_fit.RData')
load('3_Fmsy_Region_Period_CV_fit0.RData')
load('3_Fmsy_Region_Period_CV_dic.RData')
sum(dic$deviance)+sum(dic$penalty)
library(ggplot2)
library(ggpubr)
library(cowplot)
library(grid)
mcmc <- as.mcmc(fit0)
traceplot(mcmc)
traceplot(mcmc)
exp(-10)
exp(-1)
exp(1)
# Clear workspace
rm(list = ls())
# Turn off scientific notation
options(scipen=999)
# Packages
source('util.R')
# Define directories
dat <- read.csv("new_data_council_model.csv", as.is=T)
dd <- dat[,c(2,27,7,8,10:25)]
colnames(dd)
summary(dd$Fmsy_recent)
summary(log(dd$Fmsy_recent))
summary(log(dd$Fmsy_old))
setwd("~/Desktop/Climate_Stock/Bi_Code/B_F_OFL_dist/Models/Fmsy/3_Fmsy_Region_Period_CV")
source('util.R')
load('3_Fmsy_Region_Period_CV_fit0.RData')
sum(dic$deviance)+sum(dic$penalty)
library(ggplot2)
library(ggpubr)
library(cowplot)
library(grid)
mcmc <- as.mcmc(fit0)
pdf("Traceplot.pdf")
traceplot(mcmc)
dev.off()
setwd("~/Desktop/Climate_Stock/Bi_Code/B_F_OFL_dist/Models/Fmsy/4_Fmsy_Region_CV_constant")
# Clear workspace
rm(list = ls())
# Turn off scientific notation
options(scipen=999)
# Packages
source('util.R')
#####################################################################################################
# Define directories
dat <- read.csv("new_data_council_model.csv", as.is=T)
dd <- dat[,c(2,27,7,8,10:25)]
dd[!is.na(dd$F_recent) & dd$F_recent==0,]$F_recent <- NA
dd[!is.na(dd$F_old) & dd$F_old==0,]$F_old <- NA
dd[!is.na(dd$F_by_Fmsy_recent) & dd$F_by_Fmsy_recent==0,]$F_by_Fmsy_recent <- NA
dd[!is.na(dd$F_by_Fmsy_old) & dd$F_by_Fmsy_old==0,]$F_by_Fmsy_old <- NA
data_2ass <- dd[dd$num_assess==2,]
data_3ass <- dd[dd$num_assess==3,]
data_4ass <- dd[dd$num_assess==4,]
data_5ass <- dd[dd$num_assess==5,]
data_6ass <- dd[dd$num_assess==6,]
data_7ass <- dd[dd$num_assess==7,]
data_8ass <- dd[dd$num_assess==8,]
## Stock number
stocknum_2ass <- length(unique(data_2ass$stockid_code))
stocknum_3ass <- length(unique(data_3ass$stockid_code))
stocknum_4ass <- length(unique(data_4ass$stockid_code))
stocknum_5ass <- length(unique(data_5ass$stockid_code))
stocknum_6ass <- length(unique(data_6ass$stockid_code))
stocknum_7ass <- length(unique(data_7ass$stockid_code))
stocknum_8ass <- length(unique(data_8ass$stockid_code))
#################################################################################################################
data = list(data_2ass = as.matrix(data_2ass),
data_3ass = as.matrix(data_3ass),
data_4ass = as.matrix(data_4ass),
data_5ass = as.matrix(data_5ass),
data_6ass = as.matrix(data_6ass),
data_7ass = as.matrix(data_7ass),
data_8ass = as.matrix(data_8ass),
# Stock number
stocknum_2ass = as.numeric(stocknum_2ass),
stocknum_3ass = as.numeric(stocknum_3ass),
stocknum_4ass = as.numeric(stocknum_4ass),
stocknum_5ass = as.numeric(stocknum_5ass),
stocknum_6ass = as.numeric(stocknum_6ass),
stocknum_7ass = as.numeric(stocknum_7ass),
stocknum_8ass = as.numeric(stocknum_8ass),
# Stock_compare_num
stock_compare_num_3ass = as.numeric(dim(data_3ass)[1]),
stock_compare_num_4ass = as.numeric(dim(data_4ass)[1]),
stock_compare_num_5ass = as.numeric(dim(data_5ass)[1]),
stock_compare_num_6ass = as.numeric(dim(data_6ass)[1]),
stock_compare_num_7ass = as.numeric(dim(data_7ass)[1]),
stock_compare_num_8ass = as.numeric(dim(data_8ass)[1]),
# number of stocks
rs = 20)
source('util.R')
load('4_Fmsy_Region_CV_constant_fit0.RData')
## Plot
library(ggplot2)
library(ggpubr)
library(cowplot)
library(grid)
mcmc <- as.mcmc(fit0)
pdf("Traceplot.pdf")
traceplot(mcmc)
dev.off()
